<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Pokédex</title>

    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.1/font/bootstrap-icons.css">
</head>



<body>

<header>
    <a class="logo" href="#"></a>

    <h1>Pokédex</h1>
</header>



<!-- POKÉDEX -->
<div id="pokedex">
    <div class="pokedex-image">
        <img src="vide.png" id="pokedex-image-img" alt>
    </div>
    
    <div id="pokedex-head">
        <h2 id="pokedex-nom"> </h2>
        <div class="pokedex-bloc-type">
            <div id="pokedex-type"> </div>
            <img src="vide.png" id="pokedex-type-image" alt>
        </div>
    </div>

    <p id="pokedex-description"></p>
</div>



<div id="deck">
    <script>
        // *** JAVASCRIPT ***
        let d = document; // simple abréviation pour raccourcir la variable document


        


        // Tableau pokemon avec les données
        let pokemon = [
            [1, 'Bulbizarre', 'plante', 40, "Quand il est jeune, il absorbe les nutriments conservés dans son dos pour grandir et se développer."],
            [2, 'Herbizarre', 'plante', 80, "Son bulbe dorsal est devenu si gros qu il ne peut plus se tenir sur ses pattes postérieures"],
            [3, 'Florizarre', 'plante', 120, "Une douce senteur émane de sa plante. Cette fragrance calme tous ceux qui sont engagés dans un combat."],
            [4, 'Salameche', 'feu', 40, "Il préfère ce qui est chaud. En cas de pluie, de la vapeur se forme autour de sa queue."],
            [5, 'Reptincel', 'feu', 80, "Il est très brutal. En combat, il se sert de ses griffes acérées et de sa queue enflammée pour mettre en pièces ses adversaires."],
            [6, 'Dracaufeu', 'feu', 120, "Son souffle brûlant peut faire fondre la roche. Il est parfois la cause d'incendies de forêt."],
            [7, 'Carapuce', 'eau', 40, "Quand il rentre son cou dans sa carapace, il peut projeter de l'eau à haute pression."],
            [8, 'Carabaffe', 'eau', 80, "Il est considéré comme un symbole de longévité. On reconnaît les spécimens les plus âgés à la mousse qui pousse sur leur carapace."],
            [9, 'Tortank', 'eau', 120, "Il écrase ses adversaires de tout son poids pour leur faire perdre connaissance. Il rentre dans sa carapace s'il se sent en danger."],
            [10, 'Chenipan', 'insecte', 40,"Pour se protéger, il émet par ses antennes une odeur nauséabonde qui fait fuir ses ennemis."],
            [11, 'Chrysacier', 'insecte', 80, "En attendant sa prochaine évolution, il ne peut que durcir sa carapace et rester immobile pour éviter de se faire attaquer."],
            [12, 'Papilusion', 'insecte', 120, "En combat, il bat des ailes très rapidement pour projeter de la poudre toxique sur ses ennemis."],
            [13, 'Aspicot', 'insecte', 40, "L'aiguillon sur son front est très pointu. Il se cache dans les bois et les hautes herbes, où il se gave de feuilles."],
            [14, 'Coconfort', 'insecte', 80, "Il peut à peine bouger. Quand il est menacé, il sort parfois son aiguillon pour empoisonner ses ennemis."],
            [15, 'Dartagnan', 'insecte', 120, "Il se sert de ses trois aiguillons empoisonnés situés sur les pattes avant et l'abdomen pour attaquer sans relâche ses adversaires"],
        ];


        
        // BOUCLE forEach POUR PARCOURIR LE TABLEAU "pokemon" et afficher toutes les cartes
        pokemon.forEach((poke, i) =>
        {
            d.write(
            // CLIQUER DÉCLENCHE LA FONCTION onclick="selection(i)"
            // avec la variable i qui correspond à la ligne du tableau
            // Exemple: selection(0) affiche le pokémon 1, selection(7) affiche pokémon 8...
            `
            <a href="#pokedex" onclick="selection(${ i })">
                <article>
                    <div class="background background-${ poke[2] }"> <!-- Couleur de la carte selon le type -->
                    
                    <div class="pokemon-info">
                        <h2>${ poke[1] }</h2> <!-- Nom -->
                        <div class="pokemon-vie">${ poke[3] } pv</div> <!-- Vie -->
                    </div>

                    <div class="pokemon-image"><img src="${ imagePng(i) }" alt></div> <!-- Image -->
                    
                    <div class="pokemon-description">${ poke[4] }</div> <!-- Description -->
                    
                    </div>
                </article>
            </a>
            `
            
            );
        });



        // FONCTION LORSQU'ON CLIQUE SUR UNE CARTE
        function selection(i)
        {
            d.getElementById("pokedex-image-img").src = imagePng(i);
            d.getElementById('pokedex-nom').innerText = pokemon[i][1];
            d.getElementById('pokedex-type').innerText = txtMajPremier(pokemon[i][2]);
            d.getElementById('pokedex-description').innerText = pokemon[i][4];
            d.getElementById("pokedex-type-image").src = pokemon[i][2] + '.png';
        }






        // Fonction pour écrire le nom du fichier image d'un pokémon
        // Numéro + Nom + .png
        function imagePng(i)
        {
            return pokemon[i][0] + pokemon[i][1].toLowerCase() + '.png';
        }


        function txtMajPremier(txt)
        {
            return txt[0].toUpperCase() + txt.slice(1);
        }
    </script>
</div>


</body>
</html>







